<!DOCTYPE html>
<html lang="en">
<head>
    <title>She Knows</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Dark gradient background */
        body {
            background: linear-gradient(135deg, #4b2e1a, #3b2415, #291a10);
            min-height: 100vh;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            overflow: hidden;
        }

        /* Animation Container */
        .animation-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Circle container for Animation 1 */
        .circle-container {
            position: relative;
            width: 700px;
            height: 700px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            animation: rotate 120s linear infinite; /* Rotation animation for the first animation */
            transition: width 1s ease, height 1s ease;
        }
        /* Overlay text for animation 1 */
        .overlay-text {
            position: absolute;
            color: white;
            font-family: 'Cinzel', serif;
            text-align: center;
            top: 50%; /* Center vertically */
            transform: translateY(-50%);
        }

        /* Updated styles for each word */
        .word {
            opacity: 0;
            animation: fadeIn 1s forwards;
            font-size: 10vw; /* Responsive font size */
            font-weight: bold; /* Make the font bold */
            text-shadow: 
                -1px -1px 0 #000,  
                1px -1px 0 #000,
                -1px 1px 0 #000,
                1px 1px 0 #000; /* Create a black border effect */
        }
        .word:nth-child(1) { animation-delay: 1s; }
        .word:nth-child(2) { animation-delay: 2s; }
        .word:nth-child(3) { animation-delay: 3s; }

        /* Stationary Circle Container for Animation 2 */
        .circle-container-stationary {
            position: relative;
            width: 700px;
            height: 700px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            /* No rotation animation */
            transition: width 1s ease, height 1s ease;
        }

        /* Circular image inside container */
        .circle-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        /* Overlay text for animation 1 */
        .overlay-text {
            position: absolute;
            color: white;
            font-family: 'Cinzel', serif;
            text-align: center;
            top: 45%; /* Moved up slightly */
            transform: translateY(-50%);
        }
        /* Text on top for Animation 2 */
        .small-text {
            position: absolute; /* Change to absolute */
            top: 20px; /* Position at the top */
            font-size: 4vw; /* Responsive font size */
            font-family: 'Cinzel', serif;
            text-align: center;
            margin-bottom: 20px;
            z-index: 10; /* Ensure it is above the circle */
            color: white; /* Text color */
            font-weight: bold; /* Make the font bold */
            text-shadow: 
                -1px -1px 0 #000,  
                1px -1px 0 #000,
                -1px 1px 0 #000,
                1px 1px 0 #000; /* Create a black border effect */
        }

        .word {
            opacity: 0;
            animation: fadeIn 1s forwards;
        }
        .word:nth-child(1) { font-size: 9rem; animation-delay: 1s; }
        .word:nth-child(2) { font-size: 10rem; animation-delay: 2s; }
        .word:nth-child(3) { font-size: 11rem; animation-delay: 3s; }

        /* Animation 2 Content */
        .second-screen {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 1s, visibility 1s;
        }

        /* Text on top for Animation 2 */
        .small-text {
            position: absolute; /* Change to absolute */
            top: 20px; /* Position at the top */
            font-size: 2rem;
            font-family: 'Cinzel', serif;
            text-align: center;
            margin-bottom: 20px;
            z-index: 10; /* Ensure it is above the circle */
        }

        /* Buttons inside the circle */
        .button-container {
            position: absolute; /* Position absolute to the circle */
            top: 50%; /* Center vertically */
            left: 50%; /* Center horizontally */
            transform: translate(-50%, -50%); /* Offset to truly center */
            display: flex;
            flex-direction: column; /* Stack buttons vertically */
            gap: 20px; /* Space between buttons */
            z-index: 5; /* Ensure buttons are above the circle */
        }

        .button-container a {
            padding: 15px 25px; /* Adjust padding for a more balanced look */
            font-size: 1.5rem;
            text-decoration: none;
            color: #fff; /* Change text color to white */
            background-color: #090a0a; /* Change background color to a more vibrant green */
            border-radius: 10px; /* Use rounded corners for a softer look */
            box-shadow: 0 4px 10px rgba(36, 127, 129, 0.3); /* Add a subtle shadow */
            transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s; /* Add shadow transition */
        }

        /* Button hover effect */
        .button-container a:hover {
            background-color: #21887a; /* Darker shade of green on hover */
            transform: translateY(-2px); /* Lift effect on hover */
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4); /* Increase shadow on hover */
        }

        /* Fade In Animation */
        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        /* Rotate Animation */
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Make Play button visible above other elements */
        #play-button {
            margin-top: 20px; /* Space between circle and Play button */
            z-index: 10;
        }

        /* Position mute button in the bottom-left corner */
        .mute-button-container {
            position: absolute;
            bottom: 20px;
            left: 20px;
        }
    </style>
</head>
<body>
    <div class="animation-container">
        <!-- Animation 1: Initial View -->
        <div class="circle-container" id="animation1">
            <img src="../static/test31.jpg" alt="Scavenger Hunt Image">

        </div>
        <div class="overlay-text" id="overlayText">
            <div class="word">Where's</div>
            <div class="word">Blue</div>
            <div class="word">Ivy?</div>
        </div>
        <button id="play-button" class="btn btn-outline-light mt-3">Play</button>

        <!-- Animation 2: Second Screen -->
        <div class="second-screen" id="animation2">
            <!-- Text on top -->
            <div class="small-text">Where's Blue Ivy?</div>
            <br/>
          
            <!-- Circle with buttons and image -->
            <div class="circle-container-stationary   "> <!-- Updated class here -->
                <img src="../static/test31.jpg" alt="Scavenger Hunt Image">
                <!-- Reuse the same image -->
                <div class="button-container">
                    <a class="btn" href="create.html">Create</a>
                    <a class="btn" href="join-game.html">Join</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Mute Button in Bottom-Left -->
    <div class="mute-button-container">
        <button id="mute-button" class="btn btn-outline-light">Unmute</button>
    </div>

    <!-- JavaScript -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Prevent scroll restoration
            window.history.scrollRestoration = 'manual'; // Add this line to prevent scroll restoration
            
            // Scroll to top on load
            window.scrollTo(0, 0); // Add this line to scroll to top on load
            
            const animation1 = document.getElementById('animation1');
            const animation2 = document.getElementById('animation2');
            const playButton = document.getElementById('play-button');
            const overlayText = document.getElementById('overlayText');
            const muteButton = document.getElementById('mute-button');
            const audio = new Audio('../static/Level Music (2).mp3');
            audio.loop = true;
            audio.playbackRate = 0.5;

            // Mute/unmute functionality
            muteButton.addEventListener('click', () => {
                audio.muted = !audio.muted;
                muteButton.textContent = audio.muted ? 'Unmute' : 'Mute';
                if (!audio.muted) {
                    audio.play();
                }
            });

            // Start playing audio on the first click
            window.addEventListener('click', () => {
                audio.play();
            }, { once: true });

            // Transition to Animation 2 when Play button is clicked
            playButton.addEventListener('click', () => {
                animation1.style.opacimty = "0"; // Fade out Animation 1
                overlayText.style.opacity = "0";
                playButton.style.opacity = "0";

                // Delay display of second animation
                setTimeout(() => {
                    animation1.style.display = "none";
                    overlayText.style.display = "none";
                    playButton.style.display = "none";

                    animation2.style.opacity = "1";
                    animation2.style.visibility = "visible";
                }, 1000); // Allow time for fade-out
            });
        });
    </script>
</body>
</html>
